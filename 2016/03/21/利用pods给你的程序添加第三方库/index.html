<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">



  <meta name="description" content="利用pods给你的程序添加第三方库"/>




  <meta name="keywords" content="任玉祥,iOS,developer,Android,html,开发,Apple,Objective-C,Swift,JAVA" />










  <link rel="alternate" href="/atom.xml" title="任玉祥">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.6.0" />



<link rel="canonical" href="https://yuxiang.ren/2016/03/21/利用pods给你的程序添加第三方库/"/>


<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.6.0" />



  <link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />




  
  <script id="baidu_analytics">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?e8f9e28039f9f75405d07e7e7bbad3b6";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>









    <title> 利用pods给你的程序添加第三方库 - 任玉祥 </title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">任玉祥</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      
      <a href="/" 
        
      >
      
        <li class="mobile-menu-item">
          
          
            首页
          
        </li>
      </a>
    
      
      <a href="/archive/" 
        
      >
      
        <li class="mobile-menu-item">
          
          
            归档
          
        </li>
      </a>
    
      
      <a href="/tags/" 
        
      >
      
        <li class="mobile-menu-item">
          
          
            标签
          
        </li>
      </a>
    
      
      <a href="/categories/" 
        
      >
      
        <li class="mobile-menu-item">
          
          
            分类
          
        </li>
      </a>
    
      
      <a href="/about/" 
        
      >
      
        <li class="mobile-menu-item">
          
          
            关于
          
        </li>
      </a>
    
      
      <a href="/history/" 
        
      >
      
        <li class="mobile-menu-item">
          
          
            历史
          
        </li>
      </a>
    
      
      <a href="https://google.yuxiang.ren" 
        
          target="_blank"
        
      >
      
        <li class="mobile-menu-item">
          
          
            google
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">任玉祥</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          
          <a class="menu-item-link" href="/" 
          
          >
          
          
          
            首页
          
            </a>
        </li>
      
        <li class="menu-item">
          
          <a class="menu-item-link" href="/archive/" 
          
          >
          
          
          
            归档
          
            </a>
        </li>
      
        <li class="menu-item">
          
          <a class="menu-item-link" href="/tags/" 
          
          >
          
          
          
            标签
          
            </a>
        </li>
      
        <li class="menu-item">
          
          <a class="menu-item-link" href="/categories/" 
          
          >
          
          
          
            分类
          
            </a>
        </li>
      
        <li class="menu-item">
          
          <a class="menu-item-link" href="/about/" 
          
          >
          
          
          
            关于
          
            </a>
        </li>
      
        <li class="menu-item">
          
          <a class="menu-item-link" href="/history/" 
          
          >
          
          
          
            历史
          
            </a>
        </li>
      
        <li class="menu-item">
          
          <a class="menu-item-link" href="https://google.yuxiang.ren" 
          
            target="_blank"
          
          >
          
          
          
            google
          
            </a>
        </li>
      
      

    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          利用pods给你的程序添加第三方库
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2016-03-21
        </span>
        
          <div class="post-category">
            
              <a href="/category/教程/">教程</a>
            
          </div>
        
        
      </div>
    </header>

    
    
  <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">文章目录</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#CocoaPods的安装"><span class="toc-text">CocoaPods的安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#利用cocoapods给你的程序添加第三方库"><span class="toc-text">利用cocoapods给你的程序添加第三方库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#其他命令"><span class="toc-text">其他命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#常见问题"><span class="toc-text">常见问题</span></a></li></ol>
    </div>
  </div>


    <div class="post-content">
      
        <h2 id="CocoaPods的安装"><a href="#CocoaPods的安装" class="headerlink" title="CocoaPods的安装"></a>CocoaPods的安装</h2><ul>
<li>打开Terminal执行:<br><code>$ sudo gem install cocoapods</code></li>
<li><p>执行完这句如果报告以下错误：</p>
<pre><code>ERROR: Could not find a valid gem &apos;cocoapods&apos; (&gt;= 0), here is why:
Unable to download data from https://rubygems.org/ - Errno::ETIMEDOUT: Operation timed out - connect(2) (https://rubygems.org/latest_specs.4.8.gz)
ERROR: Possible alternatives: cocoapods
</code></pre></li>
</ul>
<ul>
<li>这是因为ruby的软件源rubygems.org因为使用亚马逊的云服务，被我天朝屏蔽了，需要更新一下ruby的源，过程如下：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ gem sources -l (查看当前ruby的源)</div><div class="line">$ gem sources --remove https://rubygems.org/</div><div class="line">$ gem sources -a https://ruby.taobao.org/</div><div class="line">$ gem sources -l</div></pre></td></tr></table></figure>
<ul>
<li>如果gem太老，可以尝试用如下命令升级gem<br>  <code>$ sudo gem update --system</code></li>
<li>升级成功后会提示:<strong>RubyGems system software updated</strong></li>
<li>然后重新执行安装下载命令:<br><code>$ sudo gem install cocoapods</code></li>
<li>接下来进行安装，执行：:<br><code>$ pod setup</code></li>
<li>Terminal会停留在 Setting up CocoaPods master repo 这个状态一段时间,是因为要进行下载安装,而且目录比较大,需要耐心等待一下.如果想加快速度,可使用cocoapods的镜像索引.</li>
<li>至此,cocoapods已经成功</li>
</ul>
<h2 id="利用cocoapods给你的程序添加第三方库"><a href="#利用cocoapods给你的程序添加第三方库" class="headerlink" title="利用cocoapods给你的程序添加第三方库"></a>利用cocoapods给你的程序添加第三方库</h2><ul>
<li>打开Terminal,cd到你程序目录</li>
<li>创建<strong>Podfile</strong>文件(一定要创建在跟.xcodeproj同级的目录下):<br><code>$ touch Podfile</code></li>
<li>以安装AFN为例:<br><code>$ pod search AFNetWorking</code></li>
<li><p>找到<strong>-&gt; AFNetworking</strong>,如下显示,复制<code>pod &#39;AFNetworking&#39;, &#39;~&gt; 3.0.4&#39;</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">-&gt; AFNetworking (3.0.4)</div><div class="line">A delightful iOS and OS X networking framework.</div><div class="line">pod &apos;AFNetworking&apos;, &apos;~&gt; 3.0.4&apos;</div><div class="line">- Homepage: https://github.com/AFNetworking/AFNetworking</div><div class="line">- Source:   https://github.com/AFNetworking/AFNetworking.git</div></pre></td></tr></table></figure>
</li>
<li><p>编辑Podfile文件,推荐使用<code>vi</code>命令或Xcode编辑。不建议其他编辑器编辑，不然后面更新pods会有警告的。Terminal命令 :<br>  <code>$ vim Podfile</code></p>
</li>
<li><p>将下面代码粘进去,然后保存退出 ,<code>#</code>为注释</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">use_frameworks! #用于swift</div><div class="line">platform :ios, &apos;8.0&apos; # 支持的ios版本</div><div class="line">#下面放需要导入的第三方库的名字</div><div class="line">pod &apos;AFNetworking&apos;, &apos;~&gt; 3.0.4&apos;</div></pre></td></tr></table></figure>
</li>
<li><p>安装:<br><code>pod install --verbose --no-repo-update</code></p>
</li>
<li>安装成功后项目文件夹里会出现<code>.xcwoekspace</code>的文件.以后只要写代码就打开xcworkspace这个文件写就好了。 打开之前的那个xocdeproj写的话会出现问题。</li>
<li>新建的项目添加的话 会遇到搜索不到头文件。。需要配置点东西<br>  点击项目-&gt;Build-&gt;Settings,搜索<code>header</code>,找到<code>User Header Search Patchs</code>,添加参数<strong>${SRCROOT}</strong>并将后边的属性改为<strong>recursive</strong>。</li>
<li>或者通过<code>#import &lt;&gt;</code>导入</li>
</ul>
<h2 id="其他命令"><a href="#其他命令" class="headerlink" title="其他命令"></a>其他命令</h2><ul>
<li>卸载原有的CocoaPod:<br><code>sudo gem uninstall cocoapods</code></li>
<li>重新安装cocoapod:<br><code>sudo gem install -n /usr/local/bin cocoapods</code></li>
</ul>
<h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><ol>
<li>卡在Updating local specs repositories:<strong>pod install</strong>被墙了，请大家换成:<br> <code>pod install --verbose --no-repo-update</code><br> <code>pod update --verbose --no-repo-update</code></li>
<li><p>出现这种警告:</p>
<pre><code>Your Podfile has had smart quotes sanitised. To avoid issues in the future, you should not use TextEdit for editing it. If you are not using TextEdit, you should turn off smart quotes in your editor of choice.
</code></pre></li>
</ol>
<ul>
<li><strong>解决方法</strong>:不要使用文本编辑去编辑Podfile，使用Xcode编辑，或者使用终端敲命令去编辑。或者输入格式错误，没输入运行版本：<code>$platform:ios, ‘8.0‘</code></li>
</ul>
<ol>
<li>使用cocoapods导入第三方类库后头文件没有代码提示<strong>解决方法</strong>:<br> 选择Target -&gt; Build Settings 菜单，找到<code>User Header Search Paths</code>设置项，新增一个值<strong>${SRCROOT}</strong>，并且选择<strong>Recursive</strong></li>
<li><code>pod setup</code> 报<strong>CocoaPods was not able to update the <code>master</code> repo</strong> 错误<strong>解决方法</strong><ul>
<li>先删除全局的缓存：<br> <code>$ sudo rm -fr ~/Library/Caches/CocoaPods/</code><br>  <code>$ sudo rm -fr ~/.cocoapods/repos/master/</code></li>
<li>还不行的话就把当前 Pods 目录清空：<br> <code>$ sudo rm -fr Pods/</code></li>
<li>再执行<br><code>$ sudo gem install cocoapods</code></li>
<li>重新执行<br><code>$ pod setup</code></li>
</ul>
</li>
</ol>

      
    </div>

    
      
      

  <div class="post-copyright">
    <p class="copyright-item">
      <span>原文作者: </span>
      <a href="https://yuxiang.ren">任玉祥</a>
    </p>
    <p class="copyright-item">
      <span>原文链接: </span>
      <a href="https://yuxiang.ren/2016/03/21/利用pods给你的程序添加第三方库/">https://yuxiang.ren/2016/03/21/利用pods给你的程序添加第三方库/</a>
    </p>
    <p class="copyright-item">
      <span>许可协议: </span>
      
      <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>
    </p>
  </div>



      
      
    

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tag/命令/">命令</a>
            
              <a href="/tag/CocoaPods/">CocoaPods</a>
            
              <a href="/tag/MacOS/">MacOS</a>
            
          </div>
        
        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2016/03/21/命令安装Mac系统/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">命令安装Mac系统</span>
        <span class="prev-text nav-mobile">上一篇</span>
      </a>
    
    
      <a class="next" href="/2016/03/18/多线程/">
        <span class="next-text nav-default">多线程</span>
        <span class="prev-text nav-mobile">下一篇</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

      </footer>
    

  </article>


          </div>
          
  <div class="comments" id="comments">
    
  </div>


        </div>
      </main>

      <footer id="footer" class="footer">

  <div class="social-links">
    
      
        
          <a href="mailto:mail@yuxiang.ren" class="iconfont icon-email" title="email"></a>
        
      
    
      
    
      
        
          <a href="https://twitter.com/shlyren" target="_blank" class="iconfont icon-twitter" title="twitter"></a>
        
      
    
      
        
          <a href="https://facebook.com/shlyren" target="_blank" class="iconfont icon-facebook" title="facebook"></a>
        
      
    
      
    
      
    
      
        
          <a href="https://github.com/shlyren" target="_blank" class="iconfont icon-github" title="github"></a>
        
      
    
      
        
          <a href="https://weibo.com/shlyjen" target="_blank" class="iconfont icon-weibo" title="weibo"></a>
        
      
    
      
    
      
    
      
    
      
    
      
    
    
    
  </div>


<div class="copyright">
  <span class="copyright-year">
    
    &copy; 
     
      2016 - 
    
    2018
    <a class='theme-link' href='mailto:mail@yuxiang.ren', target='_blank'>任玉祥</a>
    | 在Github上查看网站
    <a class="theme-link" href='https://github.com/shlyren/shlyren.github.io', target='_blank'>源码</a>。
     <script type="text/javascript" src="https://s95.cnzz.com/z_stat.php?id=1259844339&web_id=1259844339"></script> 
  </span>

  <span class="theme-info">
    <a href="http://www.miitbeian.gov.cn" target="_blank" style="display:inline-block;height:20px;line-height:20px;">
    <p class="theme-link" style="float:left;margin: 0px 0px 0px 5px"> 浙ICP备17016497号-1</p>
    </a>
    <a style="display:inline-block;line-height:20px;"> | </a>
    <a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33010602008160" target="_blank" style="display:inline-block;line-height:20px;">
    <img src="https://renyuxiang.oss-cn-shanghai.aliyuncs.com/file/beian.png" style="float:left;">
    <p class="theme-link" style="float:left;margin: 0px 0px 0px 5px;">浙公网安备 33010602008160号</p>
  </a>
  </span>

  
</div>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    
  
  
<!-- SOHUCS Comments -->
<div id="SOHUCS"></div>
<script type="text/javascript">
(function(){
var appid = 'cyt9QnYLl';
var conf = 'b091d0d5823bc283730869cbb5ebf15f';
var width = window.innerWidth || document.documentElement.clientWidth;
if (width < 960) {window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="http://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); } else { var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("http://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})}); } })();
</script>


  



    
  





  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  
    <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  


    <script type="text/javascript" src="/js/src/even.js?v=2.6.0"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=2.6.0"></script>

  </body>
</html>
